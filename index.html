<!doctype html>
<html>
<head>
    <meta charset="UTF8">
    <script type="text/javascript" src="node_modules/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="node_modules/chosen-js/chosen.jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="node_modules/chosen-js/chosen.css">
</head>
<body>
    <div>
        <em>Multiple Select with Groups</em>
        <select data-placeholder="Your Favorite Football Team" style="width: 350px; display: none;" class="chosen-select" multiple="" tabindex="-1">
            <option value=""></option>
            <optgroup label="NFC EAST">
                <option>Dallas Cowboys</option>
                <option>New York Giants</option>
                <option>Philadelphia Eagles</option>
                <option>Washington Redskins</option>
            </optgroup>
            <optgroup label="NFC NORTH">
                <option>Chicago Bears</option>
                <option>Detroit Lions</option>
                <option>Green Bay Packers</option>
                <option>Minnesota Vikings</option>
            </optgroup>
            <optgroup label="NFC SOUTH">
                <option>Atlanta Falcons</option>
                <option>Carolina Panthers</option>
                <option>New Orleans Saints</option>
                <option>Tampa Bay Buccaneers</option>
            </optgroup>
            <optgroup label="NFC WEST">
                <option>Arizona Cardinals</option>
                <option>St. Louis Rams</option>
                <option>San Francisco 49ers</option>
                <option>Seattle Seahawks</option>
            </optgroup>
            <optgroup label="AFC EAST">
                <option>Buffalo Bills</option>
                <option>Miami Dolphins</option>
                <option>New England Patriots</option>
                <option>New York Jets</option>
            </optgroup>
            <optgroup label="AFC NORTH">
                <option>Baltimore Ravens</option>
                <option>Cincinnati Bengals</option>
                <option>Cleveland Browns</option>
                <option>Pittsburgh Steelers</option>
            </optgroup>
            <optgroup label="AFC SOUTH">
                <option>Houston Texans</option>
                <option>Indianapolis Colts</option>
                <option>Jacksonville Jaguars</option>
                <option>Tennessee Titans</option>
            </optgroup>
            <optgroup label="AFC WEST">
                <option>Denver Broncos</option>
                <option>Kansas City Chiefs</option>
                <option>Oakland Raiders</option>
                <option>San Diego Chargers</option>
            </optgroup>
        </select>
    </div>

    <script type="text/javascript">
        $(".chosen-select").chosen({width: "250px"});
        $(document).on('click', '.group-result', function() {
            var notSelected = $(this).nextUntil('.group-result').not('.result-selected');
            if (notSelected.length) {
                notSelected.trigger('mouseup');
            } else {
                $(this).nextUntil('.group-result').each(function() {
                    element = $('a.search-choice-close[data-option-array-index="' + $(this).data('option-array-index') + '"]');
                    element.trigger('click');
                });
            }
        });
    </script>
</body>
</html>